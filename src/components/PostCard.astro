---
import type { CollectionEntry } from 'astro:content';
import { format } from '../lib/utils';

const { post } = Astro.props as { post: CollectionEntry<'blog'> };
---
<article class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition hover:shadow-md">
  <a href={`/posts/${post.slug}/`} class="text-xl font-semibold text-gray-900">
    {post.data.title}
  </a>
  <p class="mt-2 text-sm text-muted">{format.date(post.data.pubDate)}</p>
  <p class="mt-3 text-base text-gray-700 line-clamp-3">{post.data.description}</p>
  {post.data.tags && post.data.tags.length > 0 && (
    <ul class="mt-3 flex flex-wrap gap-2 text-sm text-primary" aria-label="标签">
      {post.data.tags.map((tag) => (
        <li class="rounded-full bg-blue-50 px-3 py-1">{tag}</li>
      ))}
    </ul>
  )}
</article>
